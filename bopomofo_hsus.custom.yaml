# Rime schema
# encoding: utf-8

patch:
 # switches:
  switches:
    - name: ascii_mode
      reset: 0
      states: [ 中文, 西文 ]
    - name: full_shape
      states: [ 半角, 全角 ]
    - name: simplification
      states: [ 傳統, 簡化 ]
    # - name: ascii_punct
      # states: [ ，。, ，． ]
    - name: extended_charset
      states: [ 通用, 增廣 ]
 
 # engine:
  "engine/processors":
    - ascii_composer
    - recognizer
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor  # 普通输入
    # - fluency_editor  # 语句流输入
 
 # speller:
  # "speller/alphabet": 'zyxwvutsrqponmlkjihgfedcba '
  # "speller/initials": 'zyxwvutsrqponmlkjihgfedcba'
  "speller/finals": 
  "speller/delimiter": " ;'"
  # "speller/use_space": true
  # "speller/algebra":  # 拼寫處理器不改
 
 # translator:
  "translator/spelling_hints": 4
  "translator/preedit_format":  # 上屏码中改变;和'
    - xform/b/ㄅ/
    - xform/p/ㄆ/
    - xform/m([yhgexuiawomnkl])/ㄇ$1/
    - xform/(^|[ ;'])f/ㄈ/
    - xform/(^|[ ;'])d/ㄉ/
    - xform/t/ㄊ/
    - xform/n([yhgexuiawomnkl])/ㄋ$1/
    - xform/(^|[ ;'])l$/ㄦ/
    - xform/(^|[ ;'])ld/ㄦˊ/
    - xform/(^|[ ;'])lf/ㄦˇ/
    - xform/(^|[ ;'])lj/ㄦˋ/
    - xform/(^|[ ;'])lq/ㄥ˙/
    - xform/(^|[ ;'])l/ㄌ/
    - xform/h([yhgexuiawomnkl])/ㄏ$1/
    - xform/k([yhgexuiawomnkl])/ㄎ$1/
    - xform/g([yhgexuiawomnkl])/ㄍ$1/
    - xform/z/ㄗ/
    - xform/(^|[ ;'])a/ㄘ/
    - xform/(^|[ ;'])s/ㄙ/
    - xform/(^|[ ;'])j([eu])/ㄐ$2/
    - xform/(^|[ ;'])v([eu])/ㄑ$2/
    - xform/(^|[ ;'])c([eu])/ㄒ$2/
    - xform/(^|[ ;'])j/ㄓ/
    - xform/(^|[ ;'])v/ㄔ/
    - xform/(^|[ ;'])c/ㄕ/
    - xform/r/ㄖ/
    - xform/y/ㄚ/
    - xform/h/ㄛ/
    - xform/g/ㄜ/
    - xform/([eu])e/$1ㄝ/
    - xform/e/ㄧ/
    - xform/u/ㄩ/
    - xform/x/ㄨ/
    - xform/i/ㄞ/
    - xform/a/ㄟ/
    - xform/w/ㄠ/
    - xform/o/ㄡ/
    - xform/m/ㄢ/
    - xform/n/ㄣ/
    - xform/k/ㄤ/
    - xform/l/ㄥ/
    - xform/d/ˊ/
    - xform/f/ˇ/
    - xform/j/ˋ/
    - xform/q/˙/
    - xform/s/ˉ/
    - xform/ //  # 上屏码中的空格取消
    - xlit|;| |  # 上屏码中的;替换为空格
    #- xlit|'| |  # 上屏码中的'替换为空格
  
  "translator/comment_format":  # 提示码用和反查提示码一样
    - xform/^r5$/er5/
    - xform/^([jqx])y?u/$1v/
    - xform/^y/i/
    - xform/^w/u/
    - xform/iu/iou/
    - xform/ui/uei/
    - xform/ong/ung/
    - xform/([iu])n/$1en/
    - xform/zh/Z/
    - xform/ch/C/
    - xform/sh/S/
    - xform/ai/A/
    - xform/ei/I/
    - xform/ao/O/
    - xform/ou/U/
    - xform/ang/K/
    - xform/eng/G/
    - xform/an/M/
    - xform/en/N/
    - xform/er/R/
    - xform/eh/E/
    - xform/([iv])e/$1E/
    - xform/1/ˉ/
    - 'xlit|bpmfdtnlgkhjqxZCSrzcsiuvaoeEAIOUMNKGR2345|ㄅㄆㄇㄈㄉㄊㄋㄌㄍㄎㄏㄐㄑㄒㄓㄔㄕㄖㄗㄘㄙㄧㄨㄩㄚㄛㄜㄝㄞㄟㄠㄡㄢㄣㄤㄥㄦˊˇˋ˙|'
  
 
 # reverse_lookup:
  # "reverse_lookup/preedit_format":  # 反查上屛碼不改
  # "reverse_lookup/comment_format":  # 反查提示碼不改
 
 # punctuator:
  punctuator:
    import_preset: default
 
 # key_binder:
  key_binder:
    import_preset: default
    bindings:
      - { accept: Return, send: "Shift+Return", when: composing }
      - { accept: "Shift+Return", send: Return, when: composing }
      
      - { accept: minus, send: minus, when: has_menu }
      - { accept: minus, send: Page_Up, when: paging }
      # - { accept: minus, send: Page_Up, when: has_menu }
      # - { accept: equal, send: Page_Down, when: has_menu }
      
      - { accept: comma, send: comma, when: paging }
      # - { accept: comma, send: Page_Up, when: paging }
      - { accept: period, send: period, when: has_menu }
      # - { accept: period, send: Page_Down, when: has_menu }
      
      # - { accept: semicolon, send: 2, when: has_menu, }
      # - { accept: apostrophe, send: 3, when: has_menu }
      # - { accept: semicolon, send: apostrophe, when: composing }
